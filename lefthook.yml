pre-commit:
  parallel: false
  commands:
    build:
      run: go build ./cmd/agentws
    lint:
      run: golangci-lint run
    test:
      run: go test -race ./...
    go-mod-tidy:
      run: go mod tidy && git diff --exit-code go.mod go.sum

pre-push:
  parallel: false
  commands:
    build:
      run: go build ./cmd/agentws
    lint:
      run: golangci-lint run
    test:
      run: go test -race ./...
    govulncheck:
      run: go run golang.org/x/vuln/cmd/govulncheck@latest ./...
